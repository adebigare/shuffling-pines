var app=angular.module("shuffling",[]);angular.module("shuffling").controller("FormController",["UsersSvc",function(t){function e(){o.guestName="",o.transitionDate="",o.pickupDropoff="drop off",o.location=""}var o=this;e(),o.addUser=function(){o.data={name:o.guestName,transitionDate:o.transitionDate,status:o.pickupDropoff,location:o.location},t.addToStorage(o.data),e()}}]),angular.module("shuffling").controller("TabController",["$window",function(t){var e=this;e.showGuestsTab=function(){t.$("#guestsTab").tab("show")}}]),angular.module("shuffling").controller("UsersController",["UsersSvc","$rootScope",function(t,e){var o,n=this;n.storeIndex=function(t){o=t},n.cycleStatus=function(e){t.cycleStatus(e)},n.deleteUser=function(){t.deleteUser(o),o=null},e.$on("Users Updated",function(){n.usersData=t.getUsers()}),n.usersData=t.getUsers()}]),angular.module("shuffling").filter("showHideGuest",function(){return function(t){var e=[];return angular.forEach(t,function(t){t.archived===!1&&e.push(t)}),e}}),angular.module("shuffling").service("UsersSvc",["UsersInit","$rootScope","$window",function(t,e,o){function n(t){return a=u[t]}function s(){localStorage.setItem("session",angular.toJson(u)),e.$emit("Users Updated")}function r(t){try{var e=o[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(s){return!1}}var a,l=this,u=[];0===localStorage.length&&localStorage.setItem("session",angular.toJson(t)),r("localStorage")?(u=JSON.parse(localStorage.getItem("session")),console.log(u)):console.log("Error: Local Storage Unavailable. Are you Incognito?"),l.addToStorage=function(t){u.push(t),console.log(u),s()},l.getUsers=function(){return u},l.cycleStatus=function(t){n(t);var e=a.status;e="pick up"===e||"drop off"===e?"arrived":"pick up",a.status=e,u[t]=a,s()},l.deleteUser=function(t){u.splice(t,1),0===u.length&&localStorage.clear(),s()}}]),angular.module("shuffling").controller("UsersController",["UsersSvc","$rootScope",function(t,e){var o,n=this;n.storeIndex=function(t){o=t},n.cycleStatus=function(e){t.cycleStatus(e)},n.deleteUser=function(e){t.deleteUser(e),e=""},e.$on("Users Updated",function(){n.usersData=t.getUsers()}),n.usersData=t.getUsers()}]),angular.module("shuffling").value("UsersInit",[{name:"Freida Callo",transitionDate:"11/11/2013",location:"East Wing",status:"pick up"},{name:"Frank Reynolds",transitionDate:"4/13/1978",location:"Unknown",status:"drop off"}]);